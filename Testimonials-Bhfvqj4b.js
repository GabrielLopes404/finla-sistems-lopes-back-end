import{a as e,j as a,P as t,e as r,h as s}from"./ui-DV04KRpJ.js";import{r as i}from"./vendor-BSSz-3bR.js";import{u as n}from"./useQuery-uSTEO2bx.js";import{C as o}from"./card-DQkCB0Xs.js";import{c as l,a as d}from"./index-Bj1TXKF4.js";import{m,A as c}from"./animations-9wRlUWc_.js";import{C as p,a as x}from"./chevron-right-BnqXgH5j.js";
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=l("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),h=l("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f="Avatar",[g,y]=e(f),[b,v]=g(f),w=i.forwardRef((e,r)=>{const{__scopeAvatar:s,...n}=e,[o,l]=i.useState("idle");return a.jsx(b,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:a.jsx(t.span,{...n,ref:r})})});w.displayName=f;var j="AvatarImage",N=i.forwardRef((e,n)=>{const{__scopeAvatar:o,src:l,onLoadingStatusChange:d=()=>{},...m}=e,c=v(j,o),p=function(e,{referrerPolicy:a,crossOrigin:t}){const r=i.useSyncExternalStore(C,()=>!0,()=>!1),n=i.useRef(null),o=r?(n.current||(n.current=new window.Image),n.current):null,[l,d]=i.useState(()=>S(o,e));return s(()=>{d(S(o,e))},[o,e]),s(()=>{const e=e=>()=>{d(e)};if(!o)return;const r=e("loaded"),s=e("error");return o.addEventListener("load",r),o.addEventListener("error",s),a&&(o.referrerPolicy=a),"string"==typeof t&&(o.crossOrigin=t),()=>{o.removeEventListener("load",r),o.removeEventListener("error",s)}},[o,t,a]),l}(l,m),x=r(e=>{d(e),c.onImageLoadingStatusChange(e)});return s(()=>{"idle"!==p&&x(p)},[p,x]),"loaded"===p?a.jsx(t.img,{...m,ref:n,src:l}):null});N.displayName=j;var _="AvatarFallback",k=i.forwardRef((e,r)=>{const{__scopeAvatar:s,delayMs:n,...o}=e,l=v(_,s),[d,m]=i.useState(void 0===n);return i.useEffect(()=>{if(void 0!==n){const e=window.setTimeout(()=>m(!0),n);return()=>window.clearTimeout(e)}},[n]),d&&"loaded"!==l.imageLoadingStatus?a.jsx(t.span,{...o,ref:r}):null});function S(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function C(){return()=>{}}k.displayName=_;var I=w,L=N,z=k;const A=i.forwardRef(({className:e,...t},r)=>a.jsx(I,{ref:r,className:d("\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));A.displayName=I.displayName;const E=i.forwardRef(({className:e,...t},r)=>a.jsx(L,{ref:r,className:d("aspect-square h-full w-full",e),...t}));E.displayName=L.displayName;const R=i.forwardRef(({className:e,...t},r)=>a.jsx(z,{ref:r,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));function q(){const[e,t]=i.useState(0),[r,s]=i.useState(0),{data:l=[],isLoading:d}=n({queryKey:["/api/testimonials"]}),f=e=>{s(e),t(a=>{const t=a+e;return t<0?l.length-1:t>=l.length?0:t})};if(d)return a.jsx("section",{id:"depoimentos",className:"py-12 sm:py-20 md:py-32 bg-gradient-to-b from-background via-card/50 to-background",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"h-12 w-64 mx-auto bg-muted animate-pulse rounded mb-16"}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx("div",{className:"h-80 bg-muted animate-pulse rounded-lg"})})]})});if(0===l.length)return null;const g=l[e];return a.jsxs("section",{id:"depoimentos",className:"relative py-12 sm:py-20 md:py-32 bg-gradient-to-b from-background via-card/50 to-background overflow-hidden","data-testid":"section-testimonials",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx(m.div,{animate:{y:[0,-20,0],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 left-10 w-32 h-32 md:w-64 md:h-64 bg-primary/10 rounded-full blur-[60px] md:blur-[100px]"}),a.jsx(m.div,{animate:{y:[0,20,0],opacity:[.1,.2,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute bottom-20 right-10 w-40 h-40 md:w-80 md:h-80 bg-primary/10 rounded-full blur-[80px] md:blur-[120px]"})]}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(m.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:[.22,1,.36,1]},className:"text-center mb-12 sm:mb-16 space-y-3 sm:space-y-4",children:[a.jsx(m.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.6,delay:.2,ease:[.22,1,.36,1]},className:"inline-flex items-center gap-1 mb-4",children:[...Array(5)].map((e,t)=>a.jsx(h,{className:"w-5 h-5 sm:w-6 sm:h-6 fill-primary text-primary"},t))}),a.jsxs("h2",{className:"font-display font-bold text-3xl sm:text-4xl md:text-5xl lg:text-6xl uppercase tracking-tight","data-testid":"text-testimonials-title",children:["Quem Já Contratou ",a.jsx("span",{className:"text-primary",children:"Recomenda"})]}),a.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl sm:max-w-3xl mx-auto px-4 sm:px-0",children:"Veja o que dizem aqueles que já confiaram no nosso trabalho e transformaram suas ideias em projetos de sucesso."})]}),a.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[a.jsx("div",{className:"relative h-auto min-h-[400px] sm:min-h-[350px] flex items-center justify-center",children:a.jsx(c,{initial:!1,custom:r,mode:"wait",children:a.jsx(m.div,{custom:r,variants:{enter:e=>({x:e>0?1e3:-1e3,opacity:0,scale:.8}),center:{zIndex:1,x:0,opacity:1,scale:1},exit:e=>({zIndex:0,x:e<0?1e3:-1e3,opacity:0,scale:.8})},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2},scale:{duration:.4}},drag:"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(e,{offset:a,velocity:t})=>{const r=((e,a)=>Math.abs(e)*a)(a.x,t.x);r<-1e4?f(1):r>1e4&&f(-1)},className:"absolute w-full cursor-grab active:cursor-grabbing",children:a.jsxs(o,{className:"p-6 sm:p-8 md:p-10 bg-gradient-to-br from-background/95 to-card/95 backdrop-blur-sm border-2 border-primary/20 shadow-[0_0_50px_rgba(236,72,153,0.15)] hover:shadow-[0_0_80px_rgba(236,72,153,0.25)] transition-all duration-500 relative overflow-hidden group",children:[a.jsx(m.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(90deg, transparent, rgba(236,72,153,0.3), transparent)"},animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),a.jsx(m.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,delay:.2},className:"absolute top-4 sm:top-6 left-4 sm:left-6",children:a.jsx(u,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-primary/15"})}),a.jsxs("div",{className:"relative z-10 pt-12 sm:pt-14 md:pt-16",children:[a.jsxs(m.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-base sm:text-lg md:text-xl leading-relaxed mb-6 sm:mb-8 text-foreground font-medium min-h-[120px] sm:min-h-[100px]","data-testid":`text-testimonial-${e}`,children:['"',g.text,'"']}),a.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"flex items-center gap-3 sm:gap-4 pt-4 sm:pt-6 border-t border-primary/20",children:[a.jsx(m.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:a.jsxs(A,{className:"w-12 h-12 sm:w-14 sm:h-14 ring-2 ring-primary/30 ring-offset-2 ring-offset-background","data-testid":`avatar-testimonial-${e}`,children:[a.jsx(E,{src:g.avatarUrl||void 0}),a.jsx(R,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold text-lg",children:g.author.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-display font-bold text-base sm:text-lg text-foreground","data-testid":`text-testimonial-author-${e}`,children:g.author}),a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:["Cliente Satisfeito",a.jsx("span",{className:"inline-flex gap-0.5 ml-1",children:[...Array(5)].map((e,t)=>a.jsx(h,{className:"w-3 h-3 fill-primary text-primary"},t))})]})]})]})]})]})},e)})}),l.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(m.button,{whileHover:{scale:1.1,x:-5},whileTap:{scale:.9},onClick:()=>f(-1),className:"hidden lg:flex absolute -left-16 xl:-left-20 top-1/2 -translate-y-1/2 z-20 items-center justify-center w-12 h-12 xl:w-14 xl:h-14 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-primary/40 text-primary hover:bg-primary hover:text-white transition-all shadow-[0_0_20px_rgba(236,72,153,0.3)] hover:shadow-[0_0_40px_rgba(236,72,153,0.6)]","aria-label":"Depoimento anterior",children:a.jsx(p,{className:"w-6 h-6"})}),a.jsx(m.button,{whileHover:{scale:1.1,x:5},whileTap:{scale:.9},onClick:()=>f(1),className:"hidden lg:flex absolute -right-16 xl:-right-20 top-1/2 -translate-y-1/2 z-20 items-center justify-center w-12 h-12 xl:w-14 xl:h-14 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-primary/40 text-primary hover:bg-primary hover:text-white transition-all shadow-[0_0_40px_rgba(236,72,153,0.3)] hover:shadow-[0_0_40px_rgba(236,72,153,0.6)]","aria-label":"Próximo depoimento",children:a.jsx(x,{className:"w-6 h-6"})})]})]}),l.length>1&&a.jsx(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.5},className:"flex items-center justify-center gap-2 sm:gap-3 mt-8 sm:mt-12",children:l.map((r,i)=>a.jsx(m.button,{onClick:()=>{s(i>e?1:-1),t(i)},whileHover:{scale:1.2},whileTap:{scale:.9},className:"h-2 sm:h-2.5 rounded-full transition-all duration-300 "+(i===e?"bg-primary w-8 sm:w-10 shadow-[0_0_10px_rgba(236,72,153,0.6)]":"bg-muted w-2 sm:w-2.5 hover:bg-primary/40"),"data-testid":`dot-testimonial-${i}`,"aria-label":`Ir para depoimento ${i+1}`},i))})]})]})}R.displayName=z.displayName;export{q as Testimonials};
